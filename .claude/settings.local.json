{
  "permissions": {
    "allow": [
      "Bash(npm start)",
      "Bash(lsof:*)",
      "Bash(PORT=3001 npm start)",
      "mcp__playwright__browser_navigate",
      "mcp__playwright__browser_install",
      "mcp__playwright__browser_click",
      "mcp__playwright__browser_type",
      "mcp__playwright__browser_evaluate",
      "Bash(npm test:*)",
      "Bash(npx jest:*)",
      "Bash(node:*)",
      "Bash(source:*)",
      "Bash(python -m pytest --version)",
      "Bash(python -m pytest test_models.py -v)",
      "Bash(python -m pytest test_api.py -v --tb=short)",
      "Bash(python -m pytest --cov=. --cov-report=term-missing)",
      "Bash(python -m pytest test_models.py::TestBookingRequest::test_booking_to_dict -v)",
      "Bash(python -m pytest -v --tb=short)",
      "Bash(env)",
      "Bash(python -m pytest test_auth_comprehensive.py -v --tb=short)",
      "Read(//home/jako/Development/**)",
      "Bash(git add:*)",
      "Bash(python -m coverage:*)",
      "Bash(python3:*)",
      "Bash(cat:*)",
      "Bash(grep:*)",
      "Bash(git push:*)",
      "Bash(docker compose:*)",
      "Bash(curl -s -o /dev/null -w \"%{http_code}\" http://17peppertree.co.za/admin)",
      "Bash(curl:*)",
      "Bash(chmod:*)",
      "Bash(./setup-keycloak-staging.sh:*)",
      "Bash(./update-keycloak-redirect.sh:*)",
      "Bash(./check-keycloak-client.sh:*)",
      "Bash(./fix-keycloak-client.sh:*)",
      "Bash(echo:*)",
      "Bash(./debug-keycloak-pkce.sh:*)",
      "Bash(docker ps:*)",
      "mcp__playwright__browser_console_messages",
      "mcp__playwright__browser_wait_for",
      "mcp__playwright__browser_fill_form",
      "mcp__playwright__browser_close",
      "Bash(docker exec:*)",
      "Bash(docker logs:*)",
      "Bash(ip route:*)",
      "Bash(./update-keycloak-redirect-staging.sh:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nConfigure staging environment for local network accessibility and fix authentication issues\n\nMajor improvements to staging deployment configuration:\n\nDocker Compose & Environment:\n- Reconfigure staging to use local network IP (192.168.1.102) for cross-device access\n- Update all service URLs from 17peppertree.co.za to 192.168.1.102\n- Consolidate Keycloak services into main docker-compose files\n- Remove redundant docker-compose.keycloak.yml file\n- Add comprehensive staging environment variables\n\nAuthentication System Fixes:\n- Fix JWT token issuer mismatch between frontend/backend Keycloak URLs\n- Resolve CORS blocking by adding staging frontend origin\n- Implement proper PKCE flow with RFC 7636 compliance\n- Fix API URL environment variable mismatch in apiService\n- Add script for updating Keycloak client redirect URIs\n\nMulti-Environment Support:\n- Standardize development, staging, and production configurations\n- Add Keycloak services to all environments with proper networking\n- Configure environment-specific URLs and secrets management\n- Enable local network accessibility for mobile/tablet testing\n\nNetwork & Security:\n- Update CORS origins for proper staging access\n- Configure Keycloak hostname and port mapping for external access\n- Fix nginx upstream configuration for correct service routing\n- Ensure proper JWT token validation with matching issuers\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(./setup-backend-client.sh:*)",
      "Bash(TOKEN=\"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJxVDBBbUR1VHR5WF9RSjA2QldDbTRuYUlBQnBhcXN3dHVTd1RQdDN1dTRNIn0.eyJleHAiOjE3NTkyMjMyODMsImlhdCI6MTc1OTIyMjk4MywianRpIjoiMjAxMDFlMDItMWQzMi00M2MyLTg0MDEtY2ZjOTBkZThkNjNmIiwiaXNzIjoiaHR0cDovLzE5Mi4xNjguMS4xMDI6ODA4MS9yZWFsbXMvcGVwcGVydHJlZSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJkZmI2Yjk1Zi02MGEyLTQ4ZGMtOGQyNS1iNDJjZDEyMjIyNzQiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJwZXBwZXJ0cmVlLWJhY2tlbmQtYXBpIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRlZmF1bHQtcm9sZXMtcGVwcGVydHJlZSIsIm9mZmxpbmVfYWNjZXNzIiwiYWRtaW4iLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoicHJvZmlsZSBlbWFpbCIsImNsaWVudEhvc3QiOiIxOTIuMTY4LjEuMTAyIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzZXJ2aWNlLWFjY291bnQtcGVwcGVydHJlZS1iYWNrZW5kLWFwaSIsImNsaWVudEFkZHJlc3MiOiIxOTIuMTY4LjEuMTAyIiwiY2xpZW50X2lkIjoicGVwcGVydHJlZS1iYWNrZW5kLWFwaSJ9.nu9IojJttzGhJLdMrrOhnWtqiIaVHSV_nw8WrlkkAJ5sThy3cz4D9W2NpeEJSWj-2rmkZFL9aZKa877ynAJO3g4MT5wDIsNASlrBfiNelOaPvwjkuAxK3E77mTQpLXvpbD_f28znq6h6l6b1i_3rh4IDoV8WzaZnEWTz-UaIKZxfG_MR7zr4YI6AXvUisEtpZEavM1gO_V6oYOMyxjHW6lCGzQfByoM6wJ7DnVqGDl_Rv4YCd3IC4ho2DtrR8FPwzsqLfpiXowqXaG3BTAKv9Km3QpDI5W6gsstHtL_I91Y9BF2XfstDXRVGl12zloay0poiS1hxynV7Db4HEXW_Tw\")",
      "Bash(npm run test:*)",
      "Bash(npm run:*)"
    ],
    "deny": [],
    "ask": []
  }
}